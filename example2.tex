\begin{figure}[b]
    \begin{minipage}{.25\textwidth}
\begin{verbatim}
int main() {
  long int x = 42;
  print f(x);
}
\end{verbatim}
    \end{minipage}
    \begin{minipage}{.4\textwidth}
\begin{verbatim}
long int f(long int z) {
  print g();
  return (z+z);
}
\end{verbatim}
    \end{minipage}
    \begin{minipage}{.25\textwidth}
\begin{verbatim}
int g() {
  return 5;
}
\end{verbatim}
    \end{minipage}
\caption{A Simple Call}
\label{fig:simple-program}
\end{figure}

\colorlet{lgray}{gray!40}

\newcommand{\instrc}{lgray}
\newcommand{\mainsealc}{cyan}
\newcommand{\mainpassc}{magenta}
\newcommand{\fsealc}{green}
\newcommand{\unsealc}{gray}
\newcommand{\emptyoutc}{white} % or gray for consistency with unusedc ?
\newcommand{\fulloutc}{white}

\begin{figure}

\begin{center}
\begin{tabular}{l l}
Entry to {\tt main}
 &
\memoryaddrs{25em}
\memory{3}{\instrc}[{\makebox[0pt]{Instructions}}]%
\hspace*{3pt}
$\cdots$
\memory{1}{\emptyoutc}[{\makebox[0pt]{Output}}]%
\memory{8}{\unsealc}[{\makebox[0pt]{Unsealed}}]
~$\cdots$
\\ \\
Call to {\tt f}
 &
\memoryaddrs{35em}
\memory{3}{\instrc}%
\hspace*{3pt}
$\cdots$
\memory{1}{\emptyoutc}%
\memory{2}{\unsealc}[{\makebox[0pt]{Unsealed}}]%
\memory{2}{\mainpassc}[{\makebox[0pt]{Passed(0)}}]%
\memory{4}{\unsealc}[{\makebox[0pt]{Unsealed}}]
~$\cdots$
\MemoryLabel{-37.5em}{0.75em}{0\(\ldots\)}
\MemoryLabel{-33.5em}{0.75em}{42}
\MemoryLabel{-29.5em}{0.75em}{0\(\ldots\)}
\MemoryLabel{-25.5em}{0.75em}{42}
\\ \\
Entry to {\tt f} &
\memoryaddrs{35em}
\memory{3}{\instrc}%
\hspace*{3pt}
$\cdots$
\memory{1}{\emptyoutc}%
\memory{2}{\mainsealc}[{\makebox[0pt]{Sealed(0)}}]%
\memory{2}{\mainpassc}[{\makebox[0pt]{Passed(0)}}]%
\memory{4}{\unsealc}[{\makebox[0pt]{Unsealed}}]
~$\cdots$
\MemoryLabel{-29em}{0.75em}{0\(\ldots\)}
\MemoryLabel{-24em}{0.75em}{42}
\\ \\
Return to {\tt main}
 &
\memoryaddrs{25em}
\memory{3}{\instrc}%
\hspace*{3pt}
$\cdots$
\memory{1}{\emptyoutc}%
\memory{8}{\unsealc}
~$\cdots$
\MemoryLabel{-37.5em}{0.75em}{0\(\ldots\)}
\MemoryLabel{-33.5em}{0.75em}{42}
\MemoryLabel{-29.5em}{0.75em}{0\(\ldots\)}
\MemoryLabel{-25.5em}{0.75em}{42}
\\
\end{tabular}
\end{center}

\vspace{\abovedisplayskip}

\caption{Detailed Execution Trace
%  \rb{A suggestion for the description of $\jal$ and $\jalr$:
%    call(function label) [if labels are added next to the entrypoints]
%    or call(address of entrypoint) and return()?}
}
\label{fig:share-trace}
\end{figure}
